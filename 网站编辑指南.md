# 学术主页网站编辑指南

## 📋 目录
1. [项目结构](#项目结构)
2. [内容编辑](#内容编辑)
3. [部署方式](#部署方式)
4. [常用命令](#常用命令)

---

## 项目结构

基于 **Jekyll** 的学术个人主页模板，支持中英文双语。

### 核心文件夹
```
academic-homepage/
├── _data/                   # 配置数据
│   ├── profile.yml         # 个人信息（英文）
│   ├── profile_zh.yml      # 个人信息（中文）
│   ├── display.yml         # 显示设置
│   ├── navigation.yml      # 导航菜单
│   └── authors.yml         # 作者信息
├── _publications/YYYY/     # 论文（按年份）
├── _news/                  # 新闻动态
├── _showcase/              # 展示内容
└── assets/images/          # 图片资源
    ├── photos/            # 个人照片
    ├── badges/            # 学校Logo
    └── covers/            # 论文封面
```

---

## 内容编辑

### 1. 个人信息

编辑 `_data/profile.yml`：

```yaml
primary_name: "你的姓名"
email: "your.email@example.com"
gscholar: 你的Google Scholar ID
github: 你的GitHub用户名
linkedin: 你的LinkedIn ID

positions:
- name: 你的职位和单位

short_bio: >-
  <p>个人简介...</p>

portrait_url: /assets/images/photos/portrait.jpg

education:
- name: 学校名称
  logo: /assets/images/badges/logo.png
  position: 学位
  date: 时间

awards:
- name: 奖项名称
  date: 年份
```

### 2. 添加论文

在 `_publications/YYYY/` 创建 `YYYY-论文名.md`：

```yaml
---
title: "论文标题"
title_zh: "中文标题"
date: 2025-06-07 00:01:00 +0800
selected: true                    # 是否在首页显示
pub: "会议/期刊名称"
pub_date: "2025"
abstract: >-
  论文摘要...
cover: /assets/images/covers/paper-cover.png
authors:
  - 作者1
  - 作者2
links:
  Paper: https://arxiv.org/...
  Code: https://github.com/...
---
```

**配置作者信息**（编辑 `_data/authors.yml`）：

```yaml
"你的名字":
  bold: true              # 自己的名字加粗

"合作者":
  url: https://...        # 合作者主页
```

### 3. 添加新闻

在 `_news/` 创建 `YYYY-标题.md`：

```yaml
---
title: "[EMNLP] 论文被接收 🎉"
title_zh: "[EMNLP] 论文被接收 🎉"
date: 2025-08-20 10:00:00 +0800
---
```

### 4. 添加展示内容

在 `_showcase/分组名/` 创建 `item.md`：

```yaml
---
show: true
width: 8                  # 宽度 1-12
date: 2024-01-12 00:01:00 +0800
---

<div class="p-4">
    <h2>标题</h2>
    <p>内容...</p>
</div>
```

### 5. 页面设置

编辑 `_data/display.yml`：

```yaml
homepage:
  show_experience: true           # 是否显示工作经历
  show_news: true                 # 是否显示新闻
  show_selected_publications: true # 是否显示精选论文
  num_news: 5                     # 首页显示新闻数量
```

---

## 部署方式

### 方式一：GitHub Pages（国际访问）

#### 设置步骤
1. 仓库名称必须是：`<你的用户名>.github.io`
2. 仓库设置 → Pages → 启用 GitHub Pages
3. 推送代码即可自动部署

```bash
git add .
git commit -m "更新网站"
git push origin main
```

访问：`https://<你的用户名>.github.io`

#### 优缺点
- ✅ 完全免费，自动构建
- ✅ 支持自定义域名
- ❌ 国内访问较慢

---

### 方式二：EdgeOne Pages（国内访问）⭐ 推荐

#### 前提条件
本项目已配置 **GitHub Actions 自动构建**，EdgeOne Pages 直接使用构建结果。

#### 部署步骤

**1. 连接仓库**
- 访问 [EdgeOne Pages](https://pages.edgeone.ai/)
- 创建项目 → 导入 Git 仓库
- 选择 GitHub → 授权并选择您的仓库

**2. 配置构建（重要）**

| 配置项 | 值 |
|--------|-----|
| 框架预设 | `Other` |
| 根目录 | `./` |
| 输出目录 | `_site` |
| 编译命令 | 留空或填 `echo "Using pre-built files"` |
| 安装命令 | 留空 |

**3. 部署**
- 点击"部署"即可
- 通常 1-2 分钟完成

#### 工作原理
1. 推送代码到 GitHub
2. GitHub Actions 自动构建 Jekyll → 生成 `_site`
3. 构建结果自动提交回仓库
4. EdgeOne Pages 检测更新 → 部署 `_site` 目录

#### 优缺点
- ✅ **国内访问极快**（边缘加速）
- ✅ 构建速度快（1-2分钟）
- ✅ 支持自定义域名
- ✅ 免费额度充足
- ❌ 需要额外注册账号

#### 自动化配置说明
项目已包含 `.github/workflows/build-jekyll.yml`，会自动：
- 监听 `main` 分支的推送
- 使用 Ruby 环境构建 Jekyll
- 将 `_site` 目录提交回仓库
- 触发 EdgeOne Pages 自动部署

---

### 方式三：同时部署（推荐）

同时使用 GitHub Pages 和 EdgeOne Pages：
- **GitHub Pages**：国际用户访问
- **EdgeOne Pages**：国内用户访问

一次推送，两个平台自动部署：
```bash
git add .
git commit -m "更新内容"
git push origin main
# GitHub Pages 和 EdgeOne Pages 都会自动部署
```

---

## 常用命令

### 本地预览
```bash
cd /Users/chenzhihui/Desktop/Research/Code/Personal-website/academic-homepage
bundle exec jekyll serve
# 访问 http://127.0.0.1:4000
```

### Git 基本操作
```bash
# 查看状态
git status

# 添加所有修改
git add .

# 添加特定文件
git add _data/profile.yml
git add _publications/2025/2025-new-paper.md

# 提交
git commit -m "更新个人信息"
git commit -m "添加新论文"

# 推送到 GitHub（自动触发部署）
git push origin main

# 拉取更新
git pull origin main

# 查看修改
git diff

# 查看提交历史
git log --oneline
```

### 撤销操作
```bash
# 撤销未 add 的修改
git checkout -- <文件名>

# 撤销已 add 的文件
git reset HEAD <文件名>

# 撤销最后一次 commit（保留修改）
git reset --soft HEAD~1
```

---

## 完整工作流程

### 添加新论文
```bash
# 1. 创建论文文件
# 在 _publications/2025/ 创建 2025-paper-name.md

# 2. 添加封面图
# 复制图片到 assets/images/covers/paper-cover.png

# 3. 提交并推送
git add _publications/2025/2025-paper-name.md
git add assets/images/covers/paper-cover.png
git commit -m "添加新论文：Paper Title"
git push origin main

# 4. 等待自动部署
# - GitHub Actions 构建：约 1-2 分钟
# - GitHub Pages 部署：约 3-5 分钟
# - EdgeOne Pages 部署：约 1-2 分钟
```

### 更新个人信息
```bash
# 编辑 _data/profile.yml 和 _data/profile_zh.yml

git add _data/profile.yml _data/profile_zh.yml
git commit -m "更新个人简介"
git push origin main
```

### 批量更新
```bash
# 编辑多个文件后

git add .
git commit -m "更新个人信息、添加新闻和论文"
git push origin main
```

---

## 常见问题

### Q: 推送后网站没有更新？
- GitHub Pages 需要 3-5 分钟构建
- EdgeOne Pages 需要 1-2 分钟部署
- 查看 GitHub Actions 构建状态（仓库 → Actions 标签）

### Q: EdgeOne Pages 显示源代码而不是网页？
确认配置：
- 输出目录必须是 `_site`
- 编译命令留空
- 检查 GitHub Actions 是否成功构建

### Q: 本地预览正常，部署后样式错误？
检查 `_config.yml` 中的 `baseurl` 设置。

### Q: 如何删除论文或新闻？
删除对应的 `.md` 文件，然后提交推送。

### Q: 图片无法显示？
- 检查图片路径是否正确
- 确保图片已上传到 `assets/images/` 对应文件夹
- 建议压缩图片后再上传

---

## 注意事项

### 文件命名规范
- 使用小写字母和连字符
- 避免空格和特殊字符
- 例如：`2025-my-new-paper.md`

### 日期格式
统一使用：`YYYY-MM-DD HH:MM:SS +0800`

### Git 提交信息
使用清晰的中文描述：
- ✅ "添加 EMNLP 2025 论文"
- ✅ "更新个人简介"
- ❌ "更新"、"修改"

### 图片管理
- 头像：`assets/images/photos/`
- Logo：`assets/images/badges/`
- 封面：`assets/images/covers/`
- 建议压缩后上传，避免文件过大

---

## 快速参考

| 操作 | 命令 |
|------|------|
| 本地预览 | `bundle exec jekyll serve` |
| 查看状态 | `git status` |
| 添加所有文件 | `git add .` |
| 提交更改 | `git commit -m "描述"` |
| 推送部署 | `git push origin main` |
| 拉取更新 | `git pull origin main` |

---

## 相关资源

- [Jekyll 文档](https://jekyllrb.com/docs/)
- [GitHub Pages 文档](https://docs.github.com/pages)
- [EdgeOne Pages 文档](https://edgeone.ai/zh/document/70404)
- [项目原仓库](https://github.com/luost26/academic-homepage)

---

**祝您使用愉快！** 🎉
